#!/bin/sh

GLPK_VERSION=4.65
GLPK_URL=https://ftp.gnu.org/gnu/glpk/glpk-${GLPK_VERSION}.tar.gz

BUILD_DIR=$1

echo "-----> Installing GLPK ${GLPK_VERSION}"

# Download and extract GLPK
curl -L $GLPK_URL | tar xz -C /tmp
cd /tmp/glpk-${GLPK_VERSION}

# Configure and install
./configure --prefix=/app/.heroku/vendor
make
make install

# Clean up
cd /
rm -rf /tmp/glpk-${GLPK_VERSION}

echo "-----> GLPK installation done"
